@model IEnumerable<Priority_Q.Models.Table>

@{
    ViewBag.Title = "View Tables";
}

<h2>Restaurant: @ViewBag.RestaurantName</h2>
<h3>
    Tables Available
    <span class="label label-default">
        @ViewBag.AvailableTablesCount
    </span>
</h3>
<p>
    @if (Request.IsAuthenticated && ViewBag.OwnsRestaurant)
    {
        //create a new table just for that restaurant
        <a class="btn btn-info" href='@string.Format("/Restaurants/ManageTables/{0}", ViewBag.RestaurantId)'>
            Manage Tables
        </a>
    }
</p>

<!-- The data passed in is a list of tables for a restaurant -->
<div class="col-xs-6">
    <table class="table table-striped table-hover " >
        <!-- contents -->
        @{
            var counter = 1;
        }
        <h2>Empty</h2>
        @foreach (var item in Model)
        {
            if (!item.IsOccupied)
            {
                <tr>
                    <td>
                        <span class="btn btn-success disabled">
                            #@Html.DisplayFor(modelItem => counter) --- [Max: @Html.DisplayFor(modelItem => item.MaxCapacity)]
                        </span>
                    </td>
                </tr>
            }
            counter++;
        }

    </table>
</div>
<div class="col-xs-6">
    <table class="table table-striped table-hover ">
        <!-- contents -->
        @{
            counter = 1;
        }
        <h2>Occupied</h2>
        @foreach (var item in Model)
        {
            if (item.IsOccupied)
            {
                <tr>
                    <td>
                        <span class="btn btn-danger disabled">
                            #@Html.DisplayFor(modelItem => counter) --- [Max: @Html.DisplayFor(modelItem => item.MaxCapacity)]
                        </span>
                    </td>
                </tr>
            }
            counter++;
        }
    </table>
</div>

